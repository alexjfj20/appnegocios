import{a as v}from"./index-Dq7h7Pqt.js";import{d as y,r,g as x,c as n,b as t,j as b,e as g,A as h,D as k,F as p,k as _,t as o,f as c,o as a}from"./index-BBIqiFrG.js";const w={class:"container mx-auto p-4"},C={key:0,class:"text-center py-8"},D={key:1,class:"text-center py-8"},j={key:2,class:"space-y-4"},$={class:"flex justify-between items-start"},N={class:"font-semibold"},V={class:"text-sm text-gray-500"},B={class:"text-primary font-bold"},E={class:"mt-4"},M={class:"text-sm"},O={class:"text-sm"},P={class:"mt-4 flex justify-end"},T=["onClick"],q={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},F={class:"bg-white rounded-lg p-6 w-full max-w-md"},L={class:"text-xl font-bold mb-4"},S={class:"space-y-4"},A={class:"border-t pt-4"},I={class:"flex justify-between font-bold"},z={class:"text-primary"},Q=y({__name:"Orders",setup(G){const d=r([]),u=r(!0),l=r(null);x(async()=>{try{const i=await v.get("undefined/api/orders");d.value=i.data}catch(i){console.error("Error al cargar los pedidos:",i)}finally{u.value=!1}});function m(i){l.value=i}return(i,s)=>{const f=k("router-link");return a(),n("div",w,[s[7]||(s[7]=t("h1",{class:"text-2xl font-bold mb-6"},"Mis Pedidos",-1)),u.value?(a(),n("div",C,s[1]||(s[1]=[t("p",{class:"text-gray-500"},"Cargando pedidos...",-1)]))):d.value.length===0?(a(),n("div",D,[s[3]||(s[3]=t("p",{class:"text-gray-500"},"No tienes pedidos aún",-1)),g(f,{to:"/",class:"btn btn-primary mt-4"},{default:h(()=>s[2]||(s[2]=[c("Ir a la Tienda")])),_:1,__:[2]})])):(a(),n("div",j,[(a(!0),n(p,null,_(d.value,e=>(a(),n("div",{key:e.id,class:"bg-white rounded-lg shadow p-4"},[t("div",$,[t("div",null,[t("h2",N,"Pedido #"+o(e.id),1),t("p",V,o(new Date(e.created_at).toLocaleDateString()),1)]),t("span",B,"$"+o(e.total),1)]),t("div",E,[t("p",M,[s[4]||(s[4]=t("span",{class:"font-medium"},"Estado:",-1)),c(" "+o(e.status),1)]),t("p",O,[s[5]||(s[5]=t("span",{class:"font-medium"},"Método de pago:",-1)),c(" "+o(e.payment_method),1)])]),t("div",P,[t("button",{class:"btn btn-sm btn-outline",onClick:H=>m(e)},"Ver Detalles",8,T)])]))),128))])),l.value?(a(),n("div",q,[t("div",F,[t("h2",L,"Detalles del Pedido #"+o(l.value.id),1),t("div",S,[(a(!0),n(p,null,_(l.value.items,e=>(a(),n("div",{key:e.id,class:"flex justify-between"},[t("span",null,o(e.name)+" x "+o(e.quantity),1),t("span",null,"$"+o(e.price*e.quantity),1)]))),128)),t("div",A,[t("div",I,[s[6]||(s[6]=t("span",null,"Total:",-1)),t("span",z,"$"+o(l.value.total),1)])])]),t("button",{class:"btn btn-outline w-full mt-4",onClick:s[0]||(s[0]=e=>l.value=null)},"Cerrar")])])):b("",!0)])}}});export{Q as default};
